"use strict";define(["jquery"],function(t){function e(e,n){t.post("edit.php",{id:n,action:"order",order:JSON.stringify(e)},function(){return location.reload()})}function n(){var e=[];return t(".questionlist li").each(function(){e.push(t(this).data("question-id"))}),e}function i(t,e){var i=n(),r=i.indexOf(t);if(-1===r)return i;for(var o=0;o<i.length;o++)if(o+e===r){i[r]=i[o],i[o]=t;break}return i}return{initialize:function(r){t(".edit-question-action").on("click",function(){var o=t(this).data("action"),a=t(this).data("question-id"),u=[];switch(o){case"up":u=i(a,1);break;case"down":u=i(a,-1);break;case"delete":var c=(u=n()).indexOf(a);-1!==c&&u.splice(c,1);break;default:return}e(u,r)});var o=document.getElementsByClassName("questionlist")[0];Sortable.create(o,{handle:".dragquestion",onSort:function(){return e(n(),r)}}),function(e){t(".swiftquiz-add-selected-questions").on("click",function(){var n=t("#categoryquestions td input[type=checkbox]:checked"),i="",r=!0,o=!1,a=void 0;try{for(var u,c=n[Symbol.iterator]();!(r=(u=c.next()).done);r=!0)i+=u.value.getAttribute("name").slice(1)+","}catch(t){o=!0,a=t}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}t.post("edit.php",{id:e,action:"addquestion",questionids:i},function(){return location.reload()})})}(r)}}});